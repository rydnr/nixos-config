{ config, pkgs, ... }:

{
  # OpenVPN
  services.openvpn = {
    servers = {
      client = {
        autoStart = false;
        authUserPass.username = "josesanleandro";
        authUserPass.password = "!RL^zj8hurCE283WaH%$WwgrRsWeTqdS6EvGAMS3";
        updateResolvConf = true;
        config = ''
# Automatically generated OpenVPN client config file
# Generated on Fri Jan 14 15:10:56 2022 by iocash-vpn
# Note: this config file contains inline private keys
#       and therefore should be kept confidential!
# Note: this configuration is user-locked to the username below
# OVPN_ACCESS_SERVER_USERNAME=josesanleandro
# Define the profile name of this particular configuration file
# OVPN_ACCESS_SERVER_PROFILE=josesanleandro@63.33.143.190
# OVPN_ACCESS_SERVER_CLI_PREF_ALLOW_WEB_IMPORT=True
# OVPN_ACCESS_SERVER_CLI_PREF_BASIC_CLIENT=False
# OVPN_ACCESS_SERVER_CLI_PREF_ENABLE_CONNECT=False
# OVPN_ACCESS_SERVER_CLI_PREF_ENABLE_XD_PROXY=True
# OVPN_ACCESS_SERVER_WSHOST=63.33.143.190:443
# OVPN_ACCESS_SERVER_WEB_CA_BUNDLE_START
# -----BEGIN CERTIFICATE-----
# MIICATCCAWqgAwIBAgIEX/wx+jANBgkqhkiG9w0BAQsFADA8MTowOAYDVQQDDDFP
# cGVuVlBOIFdlYiBDQSAyMDIxLjAxLjExIDExOjA5OjQ2IFVUQyBpb2Nhc2gtdnBu
# MB4XDTIxMDEwNDExMDk0NloXDTMxMDEwOTExMDk0NlowPDE6MDgGA1UEAwwxT3Bl
# blZQTiBXZWIgQ0EgMjAyMS4wMS4xMSAxMTowOTo0NiBVVEMgaW9jYXNoLXZwbjCB
# nzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEAxhq6sqGpeDIE8zenR28CiGmVuG5s
# SAuloShGWHHSI7XVmOi/jjbFo/b4sBlNfrCibqRvnB1SCgJP6z5y59X5hMq57ZHg
# 5MqklLuVfmg+pbCPmtt39E5VkEUYGHgfNn7TUP1++2ZIDme+h5OAHBxsZDficD1k
# ARGrQigXlpolPk8CAwEAAaMQMA4wDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQsF
# AAOBgQArVqdbBHieyRC3swLgTjmcgZLSq9q0BeuH+lbXYFWhvNsG6yR/6+7U3pSm
# Kr74PLA+e70nKuQp7CfO3rpJ4qg/Vktxl4tsyECuuTUq+Rr6IQvEQEAKdbbgcfV8
# zSyR4O63HI0dP1hRK2F/iynU8Jd4/+XS3L0uzhO42tQTrR9D1w==
# -----END CERTIFICATE-----
# OVPN_ACCESS_SERVER_WEB_CA_BUNDLE_STOP
# OVPN_ACCESS_SERVER_IS_OPENVPN_WEB_CA=1
# OVPN_ACCESS_SERVER_ORGANIZATION=OpenVPN, Inc.
setenv FORWARD_COMPATIBLE 1
client
server-poll-timeout 4
nobind
remote 63.33.143.190 1194 udp
remote 63.33.143.190 1194 udp
remote 63.33.143.190 443 tcp
remote 63.33.143.190 1194 udp
remote 63.33.143.190 1194 udp
remote 63.33.143.190 1194 udp
remote 63.33.143.190 1194 udp
remote 63.33.143.190 1194 udp
dev tun
dev-type tun
ns-cert-type server
setenv opt tls-version-min 1.0 or-highest
reneg-sec 604800
sndbuf 0
rcvbuf 0
auth-user-pass
# NOTE: LZO commands are pushed by the Access Server at connect time.
# NOTE: The below line doesn't disable LZO.
comp-lzo no
verb 3
setenv PUSH_PEER_INFO

<ca>
-----BEGIN CERTIFICATE-----
MIICuDCCAaCgAwIBAgIEXAgLyDANBgkqhkiG9w0BAQsFADAVMRMwEQYDVQQDDApP
cGVuVlBOIENBMB4XDTE4MTEyODE3MzI1NloXDTI4MTIwMjE3MzI1NlowFTETMBEG
A1UEAwwKT3BlblZQTiBDQTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEB
ALK7A6DbyhzDkdmMfiRq82+7lRkCH22PZ+xGllWxlGk2vLB34us7sfEElg6sV58t
t3BLYN/2iYO+edpzD4h3pG0q3FH4CPpCVgWfVCs2RNR1FJzlTs1O7k9hcrwe/4Bn
A2A9jUu9OgacP0Crjxrq32mMD9vb0CdTM7mPXQVO+sm92cOap4wkNqEykl8rbyb9
wrEZrU3UiXpWOX9uz4JfX5SqKYztOpB1E9hVh7Jc3QNf6cQqRpi4ZX/V2i7msWc0
V04rk/XdU107h5xkIpsKMC04NheiBzReLU8GnabQNHD6DRDV/EagLTmQgRGVxu3R
jkm7svULuDeF0Tuey3WNlzkCAwEAAaMQMA4wDAYDVR0TBAUwAwEB/zANBgkqhkiG
9w0BAQsFAAOCAQEAQmvijROPKl7CD8j+DAOpPXDg13cqCi/IKQcoTn2yvqxN4XPn
KzvAu8TT3PDtt6HkhdVGUR7cYkQd0DaW5W/CpMt13zvEozBMhrLXkt+rKDrrrUXl
13W30Txmc6y1Gt4TClo1AwXzjNuEywoBca+4sHrRmYBA2xIIt1LKBFRnvsa64cDn
awSIYFen1B6LaLi+XPIpqSegJ6DxNnoX2kf5jO0+chcH3k0sQaV7dn1EeZF/b7Rs
vn2/85OJfut3maEPkk2VhtM/5m5ytQnN+FvQc1yYTV6l/jHrXIRt1j1vn0UVyU8O
vvxVHA9mYTIN0PQCnJ9mw1rtzq273ZFvCkx2aw==
-----END CERTIFICATE-----
</ca>

<cert>
-----BEGIN CERTIFICATE-----
MIICyTCCAbGgAwIBAgIBeTANBgkqhkiG9w0BAQsFADAVMRMwEQYDVQQDDApPcGVu
VlBOIENBMB4XDTIyMDEwNzE1MTAxMFoXDTMyMDExMjE1MTAxMFowGTEXMBUGA1UE
AwwOam9zZXNhbmxlYW5kcm8wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIB
AQDBS73R5IQY6JGCT+UeI0duGi0POcPXXfORMOsGBID3iHLfPqIF7jspM9xX7Wm0
T/EqzWnVRbOUW0ih4E6XSjcpR1hJdCDU/TzncpXBRWA60c6eYnQDG5sDG7uAqmZy
yCr6JQ8UY3XGsKcgV2IBeQaHHQ8FieSlGISxd61YipJWDQwz6D8GZ2yMuErvuxjv
ZcEyWE8Ok+2J2up1v085ct4TuVLxS5sTdOpzZk8xOXg+rVvUuiuIjhrgMh4LDdtW
9YuEUhRSLpP3etkq6WtuTARW70OiA0w770x3pYJ2/IroPQES9UZCEjZCz/eOjZWq
HQgYszmQUzVnwKBS1cx2hBHdAgMBAAGjIDAeMAkGA1UdEwQCMAAwEQYJYIZIAYb4
QgEBBAQDAgeAMA0GCSqGSIb3DQEBCwUAA4IBAQAjJPHbL4GofBtXQIp0RjbiXr0f
TCmPh6efl/BZP7cZTno1EnQLfFT0tkB/mkQeTltwTtbgRfjYVXWhdNnEuKQFox5y
P4neAZJAXAyCDEMgvvHyPdqA652WZEAyZFt3mENn6iJNEDUOYzDqx93MLljfw0RN
2sPGVT6v+J+7FC6ghxBBuorJN2FuN0T1byvj5POegdqks4MQcO/YWrU9+nsGljsu
nd9f8Ue0VUkLrEW9TW2Otj0L+OPjeh2D9Cdk8O5lo5YowAauxzN310JzPQaJlHPx
neAC2mPGJ1SkwbsutMV6+8c9IOxmE7mFCS3W/vyC/7PfD/REOTrYBR/hVr/A
-----END CERTIFICATE-----
</cert>

<key>
-----BEGIN PRIVATE KEY-----
MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDBS73R5IQY6JGC
T+UeI0duGi0POcPXXfORMOsGBID3iHLfPqIF7jspM9xX7Wm0T/EqzWnVRbOUW0ih
4E6XSjcpR1hJdCDU/TzncpXBRWA60c6eYnQDG5sDG7uAqmZyyCr6JQ8UY3XGsKcg
V2IBeQaHHQ8FieSlGISxd61YipJWDQwz6D8GZ2yMuErvuxjvZcEyWE8Ok+2J2up1
v085ct4TuVLxS5sTdOpzZk8xOXg+rVvUuiuIjhrgMh4LDdtW9YuEUhRSLpP3etkq
6WtuTARW70OiA0w770x3pYJ2/IroPQES9UZCEjZCz/eOjZWqHQgYszmQUzVnwKBS
1cx2hBHdAgMBAAECggEBAKoVfpKpND9CrX7v1FifjGPqbom+N4BTcFXqqHMkFWM6
UnH0B9eWF8KamqFYC7IYwcn688wxR+IcLJ4b5KulJ0KQP7RqldU0e5ngrrtg01sO
cHPXh+OQL+cdSPDff8QyM/bmEw3KssDBgl2n5loLZ14OiMBD5MgM+f26o/KMBFXo
HvCWY+61EhTHvsTt66N68NI6esYof8M6pbAoOwWQpt8vG/cLeI5j28A+WqUR6FzN
63pc0E6+LYxAPtP0ttdNeBBOcnTZYR9v/75b4qMpvE/AYJJAFFJnCWkCzHiJ5SRV
Kn86CKFjZe9SgVl+dSVnQ32OIRI7LnBX6RMxlBsFyzUCgYEA7UQsqGBDOlkNyzwt
O81ni4Io9xmLw48nRhXi/jNScgzV4CGcUxNjLKh8woGsIIK/EcXUY6EOANX3iKQl
qgXZ2RGWFTXWadZ3dbtKIjjpAkDPgdEMyyMgOP16XJ+knZIQ6ViX3zKzjgrC0j+I
Dretjd/1KAfl4/zI2EEhPRj0SD8CgYEA0I7MsxhwhYccqCz992g4SHYQhYqSgXF2
x6iiVG8oM7zQkUuNUEsgd0GmNwzWMsGUrT1GAPW8KfUSeEwS1ley+0+ju4Mxwq5j
9bDj4bqLttjqqE0JtMEytk4txPBmzfaUcFEIHH76QucJdmxYCYZOWz7CZgB/45Z0
Gy0tV7dnfuMCgYEAohnMxPCXnbqQAQVJBi2Mi7TOlhu+8EnSlECJyBB6SG9ag/mS
mvOI807dheogFkodjl/xfmvfbFTC/HjhPqsmrfYk6rLQnZioHyhpOr5U+3QaEWAo
9HQ4JJeRTMzJI9pScYpUoGo8YFQbzJcZNqzpByA2lzXmK4BeG9lLgzmUU/MCgYAj
0eLmf7QTuvj5CYE1FPlVuLFtvjcbdFlqQVRgHBdTi4Jm8gr7V2vkD6p0mgfP/9+B
QZzcXVhL/IOHlclGdxmOgEcm1YmeXkVc1VzOUDPe27Kx5UldejEzjond4UxG46rq
/3/dJRHmm7fMVx9nw2GB2m2ZB0zv0c9vO3smLaHg8QKBgG1zgX74nFcXK0la/VL7
XK+GyFKoh9SBj/Uy7Tyk4cE09Wm3BZCX8kgb7rdDNh7JU/KyE0Su73tSxH08vmYt
cMqmp+wKODDa8/AsnZbFzZHK16Gbcez7GnZdPqv/2VgWs0NaLLQHCXmtCtzvXvNy
yFsEu+oovCe6+2GVXTbh1m1H
-----END PRIVATE KEY-----
</key>

key-direction 1
<tls-auth>
#
# 2048 bit OpenVPN static key (Server Agent)
#
-----BEGIN OpenVPN Static key V1-----
1a6000cd0b0d54286dd7fdb40fb58573
88c8999e100e0641bffba5f6948c2509
d9e44c0f216f82028a762a02f2c533da
796360795e4b6de7da8eef69c6d6842c
0ca4ae8950148525416ced864f1ab33d
cc40fd6ff1f6a2cbbbf1ad52c9bf687c
d5014812ad87305e64779b01409199c1
28cf21f995edd3ba17c6fe58ee85f355
1db4795dd43783562c0771231a5603a3
21b13ddd766d063c66cf280ad01ee0ac
7335a90304653f1a0ebfc9c4bfe8c109
424f84f37a572d5054f204dc9895a491
56013483fce8efaa88ebcdd537a3ccce
0e0c22848361217493ee50b03cd265f8
029bbfe8b340f3ecbe4526e1fefde60d
175830586633a340f11922fbb2394f40
-----END OpenVPN Static key V1-----
</tls-auth>


# Extra user-defined configuration
cipher AES-128-CBC
## -----BEGIN RSA SIGNATURE-----
## DIGEST:sha256
## iZJIh6CpZWHqo0tAJEQNLdO4qduh+QSS78qkc3+4OHPMlKaYtL
## nn1D/Ik1YYroGijkQHHTT10KKBhXH3SZsezxNwMZ8Y/7FNwgY7
## eVYSJZs4JymznPQImx+ZBe1bAyucXVX/Eg8Y0YvW92bWIltgNW
## sgfgAeqwkvtn+TXSLAJj8=
## -----END RSA SIGNATURE-----
## -----BEGIN CERTIFICATE-----
## MIIB7zCCAVigAwIBAgIEX/wx+zANBgkqhkiG9w0BAQsFADA8MTowOAYDVQQDDDFP
## cGVuVlBOIFdlYiBDQSAyMDIxLjAxLjExIDExOjA5OjQ2IFVUQyBpb2Nhc2gtdnBu
## MB4XDTIxMDEwNDExMTAyNloXDTMxMDEwOTExMTAyNlowGjEYMBYGA1UEAwwPdnBu
## LmlvLmJ1aWxkZXJzMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDJgB65N4lz
## 49H1/1Kzf3M1tPlQi6/+Ppr2DfFnU/5aSD4MVCKpg6Hy1wpxxU3KuoE2nMuDxCd2
## tpocZY41Fmi/VDXVsZw7oBhBwUzsILOEFugyBs/QPfJS/NsvL1sMxsjcVOHHwSO3
## D9Sbll33L+KhQocIQwFTHfHeX2suEJTUMQIDAQABoyAwHjAJBgNVHRMEAjAAMBEG
## CWCGSAGG+EIBAQQEAwIGQDANBgkqhkiG9w0BAQsFAAOBgQB3t6fHXxHXFPVVVAa8
## 7+gQ0FuMnnGv+Nc55a8QQVb1qrnO8QVs2seH9BadTclUg/f+vkD6IOv6tmfKAD+1
## c3p2IXGLI6MMrkLwniHHb4TJU/oswfeoYaqRLbTER8swt598n4wW1yYc2nJleEl9
## sWHtgsMopl8peIDm6Mz0h7FxEw==
## -----END CERTIFICATE-----
## -----BEGIN CERTIFICATE-----
## MIICATCCAWqgAwIBAgIEX/wx+jANBgkqhkiG9w0BAQsFADA8MTowOAYDVQQDDDFP
## cGVuVlBOIFdlYiBDQSAyMDIxLjAxLjExIDExOjA5OjQ2IFVUQyBpb2Nhc2gtdnBu
## MB4XDTIxMDEwNDExMDk0NloXDTMxMDEwOTExMDk0NlowPDE6MDgGA1UEAwwxT3Bl
## blZQTiBXZWIgQ0EgMjAyMS4wMS4xMSAxMTowOTo0NiBVVEMgaW9jYXNoLXZwbjCB
## nzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEAxhq6sqGpeDIE8zenR28CiGmVuG5s
## SAuloShGWHHSI7XVmOi/jjbFo/b4sBlNfrCibqRvnB1SCgJP6z5y59X5hMq57ZHg
## 5MqklLuVfmg+pbCPmtt39E5VkEUYGHgfNn7TUP1++2ZIDme+h5OAHBxsZDficD1k
## ARGrQigXlpolPk8CAwEAAaMQMA4wDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQsF
## AAOBgQArVqdbBHieyRC3swLgTjmcgZLSq9q0BeuH+lbXYFWhvNsG6yR/6+7U3pSm
## Kr74PLA+e70nKuQp7CfO3rpJ4qg/Vktxl4tsyECuuTUq+Rr6IQvEQEAKdbbgcfV8
## zSyR4O63HI0dP1hRK2F/iynU8Jd4/+XS3L0uzhO42tQTrR9D1w==
## -----END CERTIFICATE-----
'';
      };
    };
  };
}
